(this["webpackJsonpwefox-challenge-junior"]=this["webpackJsonpwefox-challenge-junior"]||[]).push([[0],{35:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(28),a=n.n(c),s=n(13),r=(n(35),n(2)),l=n(5),i=n.n(l),o=n(10),u=n(12),j=n(14),d=n(9),b=n(1),h=n(29),p=n.n(h).a.create({baseURL:"http://localhost:3000/api/v1",headers:{"Content-type":"application/json"}}),m={getAll:function(){return p.get("/posts")},get:function(e){return p.get("/posts/".concat(e))},create:function(e){return p.post("/posts",e)},update:function(e,t){return p.put("/posts/".concat(e),t)},remove:function(e){return p.delete("/posts/".concat(e))},removeAll:function(){return p.delete("/posts")}},x=n(0),O=function(){var e={title:"",image_url:"",content:"",lat:"",long:""},t=Object(b.useState)(e),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(b.useState)(!1),r=Object(d.a)(s,2),l=r[0],h=r[1],p=Object(b.useState)(!0),O=Object(d.a)(p,2),f=O[0],g=O[1];Object(b.useEffect)((function(){c.title&&c.image_url&&c.content&&c.lat&&c.long&&g(!1)}),[c]);var v=function(e){var t=e.target,n=t.name,s=t.value;a(Object(j.a)(Object(j.a)({},c),{},Object(u.a)({},n,s)))},y=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:null,title:c.title,image_url:c.image_url,content:c.content,lat:c.lat,long:c.long},e.prev=1,e.next=4,m.create(t);case 4:n=e.sent,a(n.data),h(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{maxWidth:"500px",margin:"auto"},children:l?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{children:"You submitted successfully!"}),Object(x.jsx)("button",{onClick:function(){a(e),h(!1)},children:"Add Post"})]}):Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"Title"}),Object(x.jsx)("input",{type:"text",required:!0,value:c.title,onChange:v,name:"title"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"content",children:"Description"}),Object(x.jsx)("input",{type:"text",required:!0,value:c.content,onChange:v,name:"content"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"image_url",children:"Image"}),Object(x.jsx)("input",{type:"text",required:!0,value:c.image_url,onChange:v,name:"image_url"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"lat",children:"Latitude"}),Object(x.jsx)("input",{type:"text",required:!0,value:c.lat,onChange:v,name:"lat"})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"long",children:"Longitud"}),Object(x.jsx)("input",{type:"text",required:!0,value:c.long,onChange:v,name:"long"})]}),Object(x.jsx)("button",{onClick:y,type:"submit",disabled:f,style:{width:"100%"},children:"Submit"})]})})},f=function(e){var t=Object(b.useState)({id:null,title:"",content:"",image_url:"",lat:"",long:"",published:!1}),n=Object(d.a)(t,2),c=n[0],a=n[1],s=Object(b.useState)(""),r=Object(d.a)(s,2),l=r[0],h=r[1],p=function(){var e=Object(o.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.get(t);case 3:n=e.sent,a(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){p(e.match.params.id)}),[e.match.params.id]);var O=function(e){var t=e.target,n=t.name,s=t.value;a(Object(j.a)(Object(j.a)({},c),{},Object(u.a)({},n,s)))},f=function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.update(c.id,c);case 3:h("The Post was updated successfully!"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.remove(c.id);case 3:e.history.push("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsx)("div",{style:{maxWidth:"500px",margin:"auto"},children:c?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{style:{textAlign:"center"},children:"Post"}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"title",children:"Title"}),Object(x.jsx)("input",{type:"text",name:"title",value:c.title,onChange:O})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"description",children:"Description"}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"content",value:c.content,onChange:O})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"description",children:"Image"}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"image_url",value:c.image_url,onChange:O})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"description",children:"Latitude"}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"lat",value:c.lat,onChange:O})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{htmlFor:"description",children:"Longitude"}),Object(x.jsx)("input",{type:"text",className:"form-control",name:"long",value:c.long,onChange:O})]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{type:"submit",onClick:f,style:{width:"50%"},children:"Update"}),Object(x.jsx)("button",{onClick:g,style:{width:"50%",background:"red",opacity:"0.75"},children:"Delete"})]}),Object(x.jsx)("p",{style:{textAlign:"center"},children:l})]}):Object(x.jsx)("div",{})})},g=function(e){var t=e.post;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"post-title",children:t.title}),Object(x.jsxs)("p",{className:"post-description",children:[t.content,"y"]}),Object(x.jsx)("div",{style:{marginBottom:"10px"},children:Object(x.jsx)("img",{className:"image_url",src:t.image_url,alt:t.image_url})}),Object(x.jsx)("iframe",{title:"myframe",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,src:"http://maps.google.com/maps?q=".concat(t.lat,",").concat(t.long,"&hl=es&z=14&output=embed")}),Object(x.jsx)("p",{children:Object(x.jsx)(s.b,{to:"/"+t.id,className:"",children:"Edit"})})]})},v=function(){var e=Object(b.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(b.useState)(null),s=Object(d.a)(a,2),r=s[0],l=s[1],u=Object(b.useCallback)(Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.getAll();case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]);Object(b.useEffect)((function(){u()}),[u]),Object(b.useEffect)((function(){(null===n||void 0===n?void 0:n.length)>0&&!r&&l(n[0])}),[n,r]);return Object(x.jsxs)("div",{className:"App-post-list",children:[Object(x.jsxs)("div",{className:"post-list",children:[Object(x.jsx)("h4",{children:"Find your next destination"}),Object(x.jsx)("ul",{className:"list",children:n&&n.map((function(e){return Object(x.jsx)("li",{className:"list-item"+(e.id===(null===r||void 0===r?void 0:r.id)?"-active":""),onClick:function(){return function(e){l(e)}(e)},children:e.title},e.id)}))})]}),Object(x.jsx)("div",{className:"post-list-description",children:r?Object(x.jsx)(g,{post:r}):Object(x.jsx)("p",{children:"Please click on a Post..."})})]})},y=(n(64),function(){return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsxs)("nav",{className:"header-nav",children:[Object(x.jsx)("a",{href:"/",className:"header-brand",children:"Wefox-Club"}),Object(x.jsx)("ul",{className:"header-list",children:Object(x.jsx)("li",{className:"header-list",children:Object(x.jsx)(s.b,{to:"/add",className:"header-item",children:"Add Post"})})})]}),Object(x.jsx)("div",{className:"main-container",children:Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)(r.c,{children:[Object(x.jsx)(r.a,{exact:!0,path:["/"],component:v}),Object(x.jsx)(r.a,{exact:!0,path:"/add",component:O}),Object(x.jsx)(r.a,{path:"/:id",component:f})]})})}),Object(x.jsx)("footer",{children:"Copyright (C) 2021 Tor3m"})]})});a.a.render(Object(x.jsx)(s.a,{children:Object(x.jsx)(y,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.3db52fef.chunk.js.map